<!DOCTYPE html>
<html>

<head>
	<title>pixmap array map mockup</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<style>
		body {
			background: black;
		}
		table#pixmaps {
			border-spacing: 0;
			border: 1px solid orange;
			margin: 0;
			padding: 0;
			color: white;
		}
		#pixmaps td {
			width: 22px;
			height: 22px;
			border: 1px solid transparent;
			margin: 0;
			padding: 0;
			text-align: center;
			background: blue;
		}
	</style>
	<script>
		var pixmapsSelection = []
		var pixmapsDragging = false
		
		var pixmapsCB = function(idx, editor, button) {
			if(button) {
				pixmapsSelection[1] = idx
				if(!pixmapsDragging) {
					pixmapsSelection[0] = idx
					pixmapsDragging = true
				}

				var cells = document.getElementById("pixmaps").getElementsByTagName("td")
				//top right bottom left
				var borderColor
				var innerHTML = ""
				var inSel = false
				var selBeg = Math.min(pixmapsSelection[0], pixmapsSelection[1])
				var selEnd = Math.max(pixmapsSelection[0], pixmapsSelection[1])
				for(var i = 0; i < cells.length; ++i) {
					if(selBeg == i) {
						if(pixmapsSelection[0] == pixmapsSelection[1]) {
							innerHTML = "&check;"
						} else {
							innerHTML = "["
							inSel = true
						}
					}
					if(inSel && (selEnd == i)) {
						innerHTML = "]"
						inSel = false
					}
					if((i >= selBeg) && (i <= selEnd)) {
						var j
						j = i - 16 //top
						borderColor[0] = (((j < selBeg) || (j > selEnd))?"orange":"transparent")
						j = i + 1 //right
						borderColor[1] = (((j < selBeg) || (j > selEnd))?"orange":"transparent")
						j = i + 16 //bottom
						borderColor[2] = (((j < selBeg) || (j > selEnd))?"orange":"transparent")
						j = i - 1 //left
						borderColor[3] = (((j < selBeg) || (j > selEnd))?"orange":"transparent")
					} else {
						borderColor = ["transparent", "transparent", "transparent", "transparent"]
					}
					
					cells[i].style.borderColor = borderColor[0] + " " + borderColor[1] + " " + borderColor[2] + " " + borderColor[3]
					cells[i].innerHTML = innerHTML
					
					if(inSel) {
						innerHTML = "&ndash;"
					}
					if(selEnd == i) {
						innerHTML = ""
					}
				}
			} else {
				 pixmapsSelection[1] = idx
				 pixmapsDragging = false
			}
		}

		function init() {
			var cells = document.getElementById("pixmaps").getElementsByTagName("td")
			for(var i = 0; i < 256; ++i) {
				cells[i].addEventListener("mousedown", function(ev) {
					editCB(+ev.target.dataset.idx, PIXMAPS, true)
					ev.preventDefault()
				})

				cells[i].addEventListener("mouseup", function(ev) {
					editCB(+ev.target.dataset.idx, PIXMAPS, false)
					ev.preventDefault()
				})

				cells[i].addEventListener("mouseover", function(ev) {
					if(ev.buttons > 0) {
						editCB(+ev.target.dataset.idx, PIXMAPS, true)
						ev.preventDefault()
					}
				})
			}
			
			setInterval(function() {
				document.getElementById("pixmaps").style.color = (blinkPhase?"white":"black")
				
				blinkPhase = !blinkPhase
			}, 750)
		}

		var editCB = pixmapsCB
		var PIXMAPS = 100
		var blinkPhase = false
	</script>
</head>

<body onload="init()">
	<table id="pixmaps">
		<tr>
			<td data-idx="0"></td>
			<td data-idx="1"></td>
			<td data-idx="2"></td>
			<td data-idx="3"></td>
			<td data-idx="4"></td>
			<td data-idx="5"></td>
			<td data-idx="6"></td>
			<td data-idx="7"></td>
			<td data-idx="8"></td>
			<td data-idx="9"></td>
			<td data-idx="10"></td>
			<td data-idx="11"></td>
			<td data-idx="12"></td>
			<td data-idx="13"></td>
			<td data-idx="14"></td>
			<td data-idx="15"></td>
		</tr>
		<tr>
			<td data-idx="16"></td>
			<td data-idx="17"></td>
			<td data-idx="18"></td>
			<td data-idx="19"></td>
			<td data-idx="20"></td>
			<td data-idx="21"></td>
			<td data-idx="22"></td>
			<td data-idx="23"></td>
			<td data-idx="24"></td>
			<td data-idx="25"></td>
			<td data-idx="26"></td>
			<td data-idx="27"></td>
			<td data-idx="28"></td>
			<td data-idx="29"></td>
			<td data-idx="30"></td>
			<td data-idx="31"></td>
		</tr>
		<tr>
			<td data-idx="32"></td>
			<td data-idx="33"></td>
			<td data-idx="34"></td>
			<td data-idx="35"></td>
			<td data-idx="36"></td>
			<td data-idx="37"></td>
			<td data-idx="38"></td>
			<td data-idx="39"></td>
			<td data-idx="40"></td>
			<td data-idx="41"></td>
			<td data-idx="42"></td>
			<td data-idx="43"></td>
			<td data-idx="44"></td>
			<td data-idx="45"></td>
			<td data-idx="46"></td>
			<td data-idx="47"></td>
		</tr>
		<tr>
			<td data-idx="48"></td>
			<td data-idx="49"></td>
			<td data-idx="50"></td>
			<td data-idx="51"></td>
			<td data-idx="52"></td>
			<td data-idx="53"></td>
			<td data-idx="54"></td>
			<td data-idx="55"></td>
			<td data-idx="56"></td>
			<td data-idx="57"></td>
			<td data-idx="58"></td>
			<td data-idx="59"></td>
			<td data-idx="60"></td>
			<td data-idx="61"></td>
			<td data-idx="62"></td>
			<td data-idx="63"></td>
		</tr>
		<tr>
			<td data-idx="64"></td>
			<td data-idx="65"></td>
			<td data-idx="66"></td>
			<td data-idx="67"></td>
			<td data-idx="68"></td>
			<td data-idx="69"></td>
			<td data-idx="70"></td>
			<td data-idx="71"></td>
			<td data-idx="72"></td>
			<td data-idx="73"></td>
			<td data-idx="74"></td>
			<td data-idx="75"></td>
			<td data-idx="76"></td>
			<td data-idx="77"></td>
			<td data-idx="78"></td>
			<td data-idx="79"></td>
		</tr>
		<tr>
			<td data-idx="80"></td>
			<td data-idx="81"></td>
			<td data-idx="82"></td>
			<td data-idx="83"></td>
			<td data-idx="84"></td>
			<td data-idx="85"></td>
			<td data-idx="86"></td>
			<td data-idx="87"></td>
			<td data-idx="88"></td>
			<td data-idx="89"></td>
			<td data-idx="90"></td>
			<td data-idx="91"></td>
			<td data-idx="92"></td>
			<td data-idx="93"></td>
			<td data-idx="94"></td>
			<td data-idx="95"></td>
		</tr>
		<tr>
			<td data-idx="96"></td>
			<td data-idx="97"></td>
			<td data-idx="98"></td>
			<td data-idx="99"></td>
			<td data-idx="100"></td>
			<td data-idx="101"></td>
			<td data-idx="102"></td>
			<td data-idx="103"></td>
			<td data-idx="104"></td>
			<td data-idx="105"></td>
			<td data-idx="106"></td>
			<td data-idx="107"></td>
			<td data-idx="108"></td>
			<td data-idx="109"></td>
			<td data-idx="110"></td>
			<td data-idx="111"></td>
		</tr>
		<tr>
			<td data-idx="112"></td>
			<td data-idx="113"></td>
			<td data-idx="114"></td>
			<td data-idx="115"></td>
			<td data-idx="116"></td>
			<td data-idx="117"></td>
			<td data-idx="118"></td>
			<td data-idx="119"></td>
			<td data-idx="120"></td>
			<td data-idx="121"></td>
			<td data-idx="122"></td>
			<td data-idx="123"></td>
			<td data-idx="124"></td>
			<td data-idx="125"></td>
			<td data-idx="126"></td>
			<td data-idx="127"></td>
		</tr>
		<tr>
			<td data-idx="128"></td>
			<td data-idx="129"></td>
			<td data-idx="130"></td>
			<td data-idx="131"></td>
			<td data-idx="132"></td>
			<td data-idx="133"></td>
			<td data-idx="134"></td>
			<td data-idx="135"></td>
			<td data-idx="136"></td>
			<td data-idx="137"></td>
			<td data-idx="138"></td>
			<td data-idx="139"></td>
			<td data-idx="140"></td>
			<td data-idx="141"></td>
			<td data-idx="142"></td>
			<td data-idx="143"></td>
		</tr>
		<tr>
			<td data-idx="144"></td>
			<td data-idx="145"></td>
			<td data-idx="146"></td>
			<td data-idx="147"></td>
			<td data-idx="148"></td>
			<td data-idx="149"></td>
			<td data-idx="150"></td>
			<td data-idx="151"></td>
			<td data-idx="152"></td>
			<td data-idx="153"></td>
			<td data-idx="154"></td>
			<td data-idx="155"></td>
			<td data-idx="156"></td>
			<td data-idx="157"></td>
			<td data-idx="158"></td>
			<td data-idx="159"></td>
		</tr>
		<tr>
			<td data-idx="160"></td>
			<td data-idx="161"></td>
			<td data-idx="162"></td>
			<td data-idx="163"></td>
			<td data-idx="164"></td>
			<td data-idx="165"></td>
			<td data-idx="166"></td>
			<td data-idx="167"></td>
			<td data-idx="168"></td>
			<td data-idx="169"></td>
			<td data-idx="170"></td>
			<td data-idx="171"></td>
			<td data-idx="172"></td>
			<td data-idx="173"></td>
			<td data-idx="174"></td>
			<td data-idx="175"></td>
		</tr>
		<tr>
			<td data-idx="176"></td>
			<td data-idx="177"></td>
			<td data-idx="178"></td>
			<td data-idx="179"></td>
			<td data-idx="180"></td>
			<td data-idx="181"></td>
			<td data-idx="182"></td>
			<td data-idx="183"></td>
			<td data-idx="184"></td>
			<td data-idx="185"></td>
			<td data-idx="186"></td>
			<td data-idx="187"></td>
			<td data-idx="188"></td>
			<td data-idx="189"></td>
			<td data-idx="190"></td>
			<td data-idx="191"></td>
		</tr>
		<tr>
			<td data-idx="192"></td>
			<td data-idx="193"></td>
			<td data-idx="194"></td>
			<td data-idx="195"></td>
			<td data-idx="196"></td>
			<td data-idx="197"></td>
			<td data-idx="198"></td>
			<td data-idx="199"></td>
			<td data-idx="200"></td>
			<td data-idx="201"></td>
			<td data-idx="202"></td>
			<td data-idx="203"></td>
			<td data-idx="204"></td>
			<td data-idx="205"></td>
			<td data-idx="206"></td>
			<td data-idx="207"></td>
		</tr>
		<tr>
			<td data-idx="208"></td>
			<td data-idx="209"></td>
			<td data-idx="210"></td>
			<td data-idx="211"></td>
			<td data-idx="212"></td>
			<td data-idx="213"></td>
			<td data-idx="214"></td>
			<td data-idx="215"></td>
			<td data-idx="216"></td>
			<td data-idx="217"></td>
			<td data-idx="218"></td>
			<td data-idx="219"></td>
			<td data-idx="220"></td>
			<td data-idx="221"></td>
			<td data-idx="222"></td>
			<td data-idx="223"></td>
		</tr>
		<tr>
			<td data-idx="224"></td>
			<td data-idx="225"></td>
			<td data-idx="226"></td>
			<td data-idx="227"></td>
			<td data-idx="228"></td>
			<td data-idx="229"></td>
			<td data-idx="230"></td>
			<td data-idx="231"></td>
			<td data-idx="232"></td>
			<td data-idx="233"></td>
			<td data-idx="234"></td>
			<td data-idx="235"></td>
			<td data-idx="236"></td>
			<td data-idx="237"></td>
			<td data-idx="238"></td>
			<td data-idx="239"></td>
		</tr>
		<tr>
			<td data-idx="240"></td>
			<td data-idx="241"></td>
			<td data-idx="242"></td>
			<td data-idx="243"></td>
			<td data-idx="244"></td>
			<td data-idx="245"></td>
			<td data-idx="246"></td>
			<td data-idx="247"></td>
			<td data-idx="248"></td>
			<td data-idx="249"></td>
			<td data-idx="250"></td>
			<td data-idx="251"></td>
			<td data-idx="252"></td>
			<td data-idx="253"></td>
			<td data-idx="254"></td>
			<td data-idx="255"></td>
		</tr>
	</table>
</body>

</html>
