<!DOCTYPE html>
<html lang="en">
<head>
	<title>TUTOR</title>
	<style>
		body {
			background: silver;
		}
		
		body .code {
			font-family: monospace;
			font-size: 13px;
			font-weight: bold;
		    white-space: pre;
			padding-bottom: 13px;
		}
		
		body .code i {
			font-weight: normal;
		}
		
		h1, h2, h3 {
			font-family: Westminster, "Data 70";
			letter-spacing: 1px;
			font-size: 24px;
		}
		
		body h2 {
			color: silver;
			background: black;
			padding-left: 8px;
			margin-left: -6px;
		}
		
		body h1 {
			font-size: 32px;
			border-bottom: 8px solid white;
		}
		
		body hr {
			margin: 6px;
			padding: 0;
			height: 1px;
			border: 0;
			background: white;
		}
		
		body {
			font-family: Fxmatrix;
			font-size: 12px;
		}
		
		body a:link {
			color: black;
		}
		
		body a:visited {
			color: white;
		}
		
		body div.contents {
			text-align: center;
		}
		
		@font-face {
		    font-family: Westminster;
		    src: url(Westminster.ttf.woff);
		}
		
		@font-face {
		    font-family: Fxmatrix;
		    src: url(FXMatrix105PropPicaItalic.woff);
		}
	</style>
</head>
<body>
<h1>Programming Tutorials</h1>
<p>This is the imeight programming language. One that resembles those 80s
languages when programming was still fun to learn. Do you want to experience, too?</p>
<p>This emulated imaginary machine has three screen modes:</p><ul>
<li>Program Listing: for writing and editing your program text.</li>
<li>Interactive Screen: for issuing interactive commands and reading output of your program as it runs.</li>
<li>Graphic Screen: to be covered in the Game Programming Tutorial.</li>
</ul>
<p>You can use the usual Copy and Paste function in your browser to transfer
example codes from the tutorial to the Program Listing panel.</p>
<p>For a test run, press TOKENIZE+RELINK (F9) then see RUN command appear in the 
Interactive Screen, press Enter.</p>
<p>Return to the Program Listing by entering the LIST command.</p>
<p>NEW command will also erase the program text.</p>
<h2><a name="contents">Contents</a></h2>
<h3>Programming Instruction by Instruction</h3><div class="contents">
	<a href="#72">PRINT</a>
&bull;	<a href="#89">INPUT</a>
&bull;	<a href="#126">Names</a>
&bull;	<a href="#143">LET</a>
&bull;	<a href="#175">REM, The Colon, Spaces: Your Readable Code</a>
&bull;	<a href="#201">Expressions</a>
&bull;	<a href="#299">GOTO</a>
&bull;	<a href="#331">IF and THEN</a>
&bull;	<a href="#383">Operator Summary</a>
&bull;	<a href="#438">GOSUB and RETURN</a>
&bull;	<a href="#448">END and STOP</a>
&bull;	<a href="#465">FOR and NEXT</a>
&bull;	<a href="#496">DATA and READ</a>
&bull;	<a href="#513">RESTORE</a>
&bull;	<a href="#540">DIM</a>
&bull;	<a href="#561">POKE</a>
&bull;	<a href="#567">CLR</a>
&bull;	<a href="#579">DEF</a>
&bull;	<a href="#593">ON</a>
&bull;	<a href="#613">Multidimensional Arrays</a>
&bull;	<a href="#618">Non-Unary Functions</a>
&bull;	<a href="#642">Abbreviations</a>
&bull;	<a href="#663">Run Time Errors</a>
&bull;	<a href="#738">Contrasting C64</a></div>
<h3>Game Programming Tutorial</h3><div class="contents">
	<a href="#2001">WAIT and GET</a>
&bull;	<a href="#2002">TIME and TIME$</a>
</div>
<h1>Programming Instruction by Instruction</h1>
<h2><a name="72">PRINT</a></h2>
<div class="code">    PRINT "HELLO WORLD"
    REM<i>ARK: The PRINT instruction is for learning and debugging purposes only.</i>
    REM<i>ARK: See "HELLO WORLD" printed as a result.</i></div>
<h3>An Infix Operator: + Between Numbers</h3>
<div class="code">    PRINT 6+4
    REM<i>ARK: See 10 printed on the Interactive Screen.</i>
    REM<i>ARK: + is an infix operator and works like in maths.</i>
    REM<i>ARK: There are more operators to be covered later.</i></div>
<h3>A Function: SIN</h3>
<div class="code">    PRINT SIN(1.571)
    REM<i>ARK: 1.571 is approximately 90 degrees in radians. </i>
    REM<i>ARK: So this will print a number close to 1, sine of 90 degrees.</i>
    REM<i>ARK: You must not leave white space between SIN and the parenthesis.</i></div>
<h2><a name="89">INPUT</a></h2>
<h3>Full Syntax</h3>
<div class="code">    INPUT "HOW MUCH?", A
    REM<i>ARK: Again an instruction for learning purposes only. </i>
    REM<i>ARK: Displays the question "HOW MUCH?". User may enter the value.</i></div>
<h3>Default Prompt</h3>
<div class="code">    INPUT A
    REM<i>ARK: A shorter version of the INPUT instruction. </i>
    REM<i><i>ARK: Also asks the user but the question is generated by the runner.</i></i></div>
<h3>The Normal Program Flow</h3>
<div class="code">    INPUT A
    PRINT A
    INPUT B
    PRINT B</div>  
   <p>Now we wrote a program of multiple lines. </p>
   <p>The topmost line will run first. Program waits for input.</p>
   <p>Then the 2nd line runs so the value of the variable A is printed.</p>
   <p>See that whatever is entered is printed.
   It's because INPUT instruction has assigned the entered value
   to the variable A, which kept that value when printed.</p>
   <p>Third and fourth line does the same with another variable, B. 
   INPUT B happens after printing A, as if you would read a story.</p>
<h3>Assignment: Old Value, New Value</h3>
<div class="code">    INPUT A
    PRINT A
    INPUT A
    PRINT A</div>
<p> In the previous example A kept its value. Now here is an example how it can drop the value. </p><p>Read the story.</p><p>
 1st line prompts the user and assigns the entered value to A. Variable A will keep it for the next line.
 To prove it, we do a PRINT A in the 2nd line.</p><p>
 In the 3rd line INPUT will assign again. Which means, the old value is replaced by the new.
 See what gets printed in the 4th line: the new value of A, regardless of its previous value.</p>
<h2><a name="126">Names</a></h2>
<p>
In the INPUT examples we could see that there are variables named A and B, which help us store numbers.
But you can name them relatively freely. Let's see the exact rules for naming variables and more:
</p><ol>
<li> A variable name must start with a letter A through Z. It may have a longer name.
</li>
<li> From the second position on, the name may contain digits 0 to 9 or more letters, or both, in any order.
</li>
<li> There is no length limit for the name.
</li>
<li> The name optionally ends in one $ or one % sign.
Convention is that the name ends in $ if it is supposed to have a text value rather than number.
The % sign suggests integer number value.
</li>
</ol>
<p>These rules not only apply to variable names, but also function names and array names, which are covered later.</p>
<h2><a name="143">LET</a></h2>
<div class="code">    LET SUM = 6+4
    PRINT SUM</div>
  <p>The first line will assign a calculated value, 10, to the variable SUM.</p>
  <p>Second line shows that the variable keeps the value.</p>
  <p>This way you can give a name to your calculation results, making your intent clear and the code maintainable.</p>
<h3>Implicit LET Instruction</h3>
<div class="code">    SUM = 6+4
    PRINT SUM</div>
<p>You can omit the instruction LET and it will still be interpreted as an assignment.</p>
<p><em>Note:</em> Line 1 is not an equation. The left side must specify the thing to assign to (variable A this time.)</p>
<h3>Motivation</h3>
<div class="code">    SUM = 1+1+1+1+1+1+1+1+1+1
    LITTLEBIGGER = SUM+1
    MUCHBIGGER = SUM+10
    PRINT SUM
    PRINT LITTLEBIGGER
    PRINT MUCHBIGGER</div>
<p>Let's pretend that calculating SUM takes a lot of time and effort.
This is how you reuse a calculation. The SUM variable keeps its value and is used for calculating two more values.
So variables are not only there for code readability, they can make your code more efficient, too.</p>
<h3>Referencing The Old Value In LET</h3>
<div class="code">    INPUT A
    A = A+1
    PRINT A</div>
<p>2nd line says, add 1 to the old value of A, and let the incremented value be the new value of A.
So the 3rd line will print the successor of whatever the user enters.</p>
<h2><a name="175">REM, The Colon, Spaces: Your Readable Code</a></h2>
<p>You can make your code self documented by inserting REM instrucions. They make the runner ignore the rest of the line.</p>
<div class="code">    REM<i> * USER WILL ENTER A NUMBER *</i>
    INPUT A
    REM<i> * COMPUTER WILL INCREMENT THE NUMBER *</i>
    A = A+1
    REM<i> * AND NOW DISPLAY THE RESULT *</i>
    PRINT A</div>
<p>You can use this instruction to temporarily skip a line or two while developing your program:</p>
<div class="code">    PRINT "HELLO"
    REM<i> PRINT "GOODBYE"</i>
    REM<i> * I HAVE COMMENTED OUT THE SECOND LINE *</i>
    REM<i> *    RUNS LIKE IT WAS DELETED BUT      *</i>
    REM<i> * MAYBE I WILL WANT TO UNCOMMENT LATER *</i></div>
<p>You can normally put several instructions on a line, separated by colon:</p>
<div class="code">    PRINT "HELLO":PRINT "WORLD":REM<i> BOTH WILL PRINT</i></div>
<p>But the colon does not break the REM instruction:</p>
<div class="code">    PRINT "THIS PRINTS":REM<i> HERE IS A REMARK:PRINT "PART OF REM, NOT PRINTING"</i></div>
<p>The REMARK lines in the examples before are also REM instructions.
The space after the REM or any instruction is optional, so the text starting with ARK had been ignored by the runner.
But you should keep your code readable, which means spaces are good for you.</p>
<h2><a name="201">Expressions</a></h2>
<div class="code">    A$ = "THIS TEXT BETWEEN QUOTES IS A LITERAL, A SIMPLE EXPRESSION."
    A = 30:REM<i> THE NUMBER IS ALSO A LITERAL, WHICH IS AN EXPRESSION</i>
    SUM = A+1:REM<i> A CALCULATION WITH AN OPERATOR IS AN EXPRESSION</i>
    PRINT A+1:REM<i> EXPRESSION MAY APPEAR ON = RIGHT SIDE OR PRINT ARGUMENT</i>
    PRINT A$:REM<i> VARIABLE NAME IS EXPRESSION IF ON = RIGHT SIDE OR IS PRINT ARG</i>
    INPUT A$, C$:REM<i> OR ARGUMENT TO INSTRUCTIONS OTHER THAN PRINT</i>
    Y = SIN(1 + 0.571):REM<i> FUNCTIONS WITH OPERATORS BUILD EXPRESSIONS, TOO</i>
    Z = SIN(4.712)+2:REM<i> COMBINE THEM FREELY LIKE IN MATHS</i></div>
<h3>String Expressions</h3>
<p>(A) The String Literal</p>
<div class="code">    A$ = "HELLO WORLD"
    PRINT "HELLO WORLD"
    PRINT A$
    REM<i> *     THE QUOTED "HELLO WORLD" IS CALLED LITERAL     *</i>
    REM<i> * BECAUSE IT ASSIGNS, PRINTS "HELLO WORLD" LITERALLY *</i>
    REM<i> *        WHEREAS A$ IS NOT A LITERAL BECAUSE         *</i>
    REM<i> * IT PRINTS "HELLO WORLD" RATHER THAN "A$" LITERALLY *</i></div>
<p>(B) Concatenation</p>
<div class="code">    PRINT "HELLO" + "WORLD"
    REM<i> * PLUS BETWEEN STRING LITERALS MEANS CONCATENATION *</i>
    REM<i> *   PRINTS "WORLD" IMMEDIATELY FOLLOWING "HELLO"   *</i>
    
    GREETING$ = "HELLO"
    AUDIENCE$ = "WORLD"
    PRINT GREETING$ + " " + AUDIENCE$
    REM<i> * CONCATENATION OF STRING VARIABLES AND LITERALS ALSO WORKS *</i></div>    
<p>(C) String Functions</p>
<div class="code">    PRINT LEN("HOW LONG AM I"):REM<i> PRINTS 13 (10 LETTERS + 3 SPACES)</i>
    PRINT "1" + "2":REM<i> DOES NOT PRINT 3 BUT A CONCATENATED STRING "12"</i>
    PRINT VAL("1") + VAL("2"):REM<i> PRINTS 3</i>
    PRINT ASC("A"):REM<i> PRINTS THE ASCII CODE 65</i>
    PRINT CHR$(65):REM<i> PRINTS "A" BEACUSE ITS ASCII CODE IS 65</i>
    PRINT LEFT$("HELLO", 3):REM<i> PRINTS "HEL" - 3 CHARACTERS FROM THE LEFT</i>
    PRINT RIGHT$("HELLO", 3):REM<i> PRINTS "LLO" - 3 CHARACTERS FROM THE RIGHT</i>
    PRINT MID$("HELLO", 2, 3):REM<i> PRINTS "ELL" - 3 CHARACTERS FROM THE 2ND POS</i>
    REM<i> *  THE COMMA IS AN OPERATOR HERE THAT MAKES A PARAMETER LIST  * </i>
    REM<i> * IT'S ON THE LOWEST PRECEDENCE LEVEL AMONG ALL THE OPERATORS *</i></div>
<h3>Numeric Expressions</h3>

<p>Examples below are for your reference, not error free programs to run.</p>

<p>(A) Literals</p>
<div class="code">    MOL = 6.022E+23:REM<i> E MEANS "TIMES 10 TO THE POWER"</i>
    A = 10:REM<i> DECIMAL 10, REALLY TEN</i>
    B = %10:REM<i> BINARY 10, MEANING TWO</i>
    C = $10:REM<i> HEXADECIMAL 10, MEANING SIXTEEN</i>
    D = !10:REM<i> FOUR-BASE 10, MEANING FOUR</i>
    E = 1.2:REM<i> 1 AND 2 TENTHS</i>
    F = .2:REM<i> 2 TENTHS</i>
    G = .2E-2:REM<i> 0.002</i></div>
<p>(B) Operators</p>
<div class="code">    C = A+B:REM<i> ADD</i>
    C = A-B:REM<i> SUBTRACT</i>
    C = A*B:REM<i> MULTIPLY</i>
    C = A/B:REM<i> DIVIDE</i>
    C = A^B:REM<i> POWER</i>
    C = A AND B:REM<i> BITWISE LOGICAL AND; SPACE IS NECESSARY AFTER A</i>
    C = A OR B:REM<i> BITWISE LOGICAL OR; SPACE IS NECESSARY AFTER A</i></div>
<p>(C) Functions</p>
<div class="code">    REM<i> * SOME INTERESTING THINGS THAT TECHNICALLY ARE FUNCTIONS *</i>
    Y = -X:REM<i> UNARY MINUS, MEANING (-1)*X</i>
    Y = A*(B+C):REM<i> THE () IS A FUNCTION WITHOUT A NAME: RETURNS WHAT IS INSIDE</i>
    
    REM<i> * BASIC MATHS *</i>
    Y = SGN(X):REM<i> -1 FOR A NEGATIVE X, 0 FOR 0, 1 FOR A POSITIVE X</i>
    Y = INT(X):REM<i> INTEGER PART OF X, BUT STAYS FLOATING POINT</i>
    Y = ABS(X):REM<i> ABSOLUTE VALUE: -X IF X&lt;0, OTHERWISE X</i>
    Y = SQR(X):REM<i> SQUARE ROOT</i>
    
    REM<i> * TRANSCENDENT *</i>
    Y = LOG(X):REM<i> NATURAL LOGARITHM</i>
    Y = EXP(X):REM<i> NATURAL EXPONENTIAL FUNCTION</i>
    
    REM<i> * TRIGONOMETRY *</i>
    Y = COS(X):REM<i> COSINE</i>
    Y = SIN(X):REM<i> SINE</i>
    Y = TAN(X):REM<i> TANGENT</i>
    Y = ATN(X):REM<i> ARC TANGENT	</i>

    REM<i> * COMPUTING *</i>
    Y = NOT(X):REM<i> BITWISE LOGICAL NEGATION</i>
    Y = INT%(X):REM<i> INTEGER VALUE OF X, STORED IN A 16-BIT FIXED WORD</i>
    Y = RND(X):REM<i> NON-NEGATIVE RANDOM NUMBER THAT IS LESS THAN X</i>
    Y = PEEK(X):REM<i> THE BYTE STORED AT ADDRESS X; SPOILER: USE POKE INSTRUCTION</i>
    Y$ = STR$(X):REM<i> A DECIMAL REPRESENTATION OF THE NUMBER X</i></div>
<h3>About Evaluation</h3>
<div class="code">    PRINT RND(8)-RND(8):REM<i> RND EVALUATED TWICE, CAN RETURN DIFFERENT VALUES</i>
<hr/>    X = RND(8):REM<i> EVALUATED ONCE</i>
    PRINT X - X:REM<i> ALWAYS RETURNS ZERO</i></div>
<h2><a name="299">GOTO</a></h2>

<p>Flow instructions can break the normal flow of the program. GOTO instructs the runner to immediately go to a specified
point in the program, rather than continuing at the next one in reading order. Using the @ instruction you can put a
label to a point in the program and reference that label in a GOTO argument.</p>

<p>Jumping over a part of the program:</p>
<div class="code">    PRINT "TITLE"
    PRINT "INTRODUCTION"
    GOTO RESULTS
    REM<i> NOONE CARES ABOUT CALCULATIONS</i>
    PRINT "CALCULATIONS"
    @RESULTS
    PRINT "RESULTS"</div>
<p>Jumping back makes an endless loop:</p>
<div class="code">    @LOOP
    INPUT A
    GOTO LOOP
    REM<i> * THIS WILL RUN UNTIL USER CANCELS *</i></div>    
<p>Jumping wildly:</p>
<div class="code">    PRINT "THEY SAY GOTO IS A CRIME"
    GOTO INTERMEZZO
    @CONTINUATION
    PRINT "CAN WE CONCLUDE, GOTO IS FUN?"
    GOTO FIN
    @INTERMEZZO
    PRINT "I SAY GOTO IS FINE"
    GOTO CONTINUATION
    @FIN</div>
<h2><a name="331">IF and THEN</a></h2>
<h3>Logical Operators</h3>
<div class="code">    INPUT A
    REM<i> * EQUAL AND UNEQUAL SIGNS ARE OPERATORS, TOO: *</i>
    REM<i> * THEY APPEAR BETWEEN TWO NUMERIC EXPRESSIONS *</i>
    REM<i> *  AND GIVE 1 AS RESULT IF TRUE, 0 IF FALSE   *</i>
    IF A=1 THEN PRINT "A IS ONE"
    IF A&lt;>2 THEN PRINT "A IS NOT TWO"
    IF A&lt;10 THEN PRINT "A IS LESS THAN TEN"
    IF A>5 THEN PRINT "A IS GREATER THAN FIVE"
    IF A&lt;=8 THEN PRINT "A IS NOT GREATER THAN EIGHT"
    IF A>=7 THEN PRINT "A IS NOT LESS THAN SEVEN"
    REM<i> * AND IS AN OPERATOR, JUST LIKE OR *</i>
    IF A>=4 AND A&lt;=6 THEN PRINT "A IS BETWEEN FOUR AND SIX"
    IF A&lt;3 OR A>9 THEN PRINT "A IS NOT BETWEEN THREE AND NINE"</div>
<h3>Mixing Logic and Numbers</h3><ul>
<li>True converts to 1, false to 0 if comparison result is used in numeric expression</li>
<li>When numeric expression is used as a condition, 0 means false, non-0 numbers true</li>
</ul>
<div class="code">    INPUT "PLEASE ENTER 1 HERE.", A
    IF 1-A THEN PRINT "BAD"
    IF 1-A&lt;>0 THEN PRINT "BAD"
    IF 1&lt;>A THEN PRINT "BAD"
    REM<i> * IF USER DOES NOT ENTER 1 THEN "BAD" APPEARS THREE TIMES *</i>
    REM<i> * IF USER ENTERS 1 THEN PROGRAM ENDS WITHOUT PRINTING     *</i></div>
<h3>Pitfalls</h3>
<p>Operators AND, OR work bitwise.                                                               </p>
<p>As long as the two sides of them are either 0 or 1, they can be used to combine conditions.   </p>
<p>Comparison operators like &lt; and > and = will give either 0 or 1 to support such combinations. </p>
<p>However, NOT function is bitwise and may have astonishing result.                             </p>
<div class="code">    INPUT A:INPUT B
    IF NOT(A=B) THEN PRINT "A IS NOT B?"
    REM<i> * ENTER EQUAL NUMBERS                                         *</i>
    REM<i> * A=B GIVES 1 (TRUE). NOT(A=B) GIVES ALL BITS BUT ONE SET, -2 *</i>
    REM<i> * IT IS NOT 0, CONDITION IS MET, MESSAGE WILL BE PRINTED      *</i>
<hr/>    PRINT 0=0=0:REM<i> 0 (FALSE) BECAUSE 0=0 GIVES 1 (TRUE), 1=0 GIVES 0 (FALSE)</i>
    PRINT 0=0=1:REM<i> 1 (TRUE) BECAUSE 0=0 GIVES 1 (TRUE), 1=1 GIVES 1 (TRUE)</i></div>    
<h3>Colon After THEN</h3>
<div class="code">    @TASK
    A = INT(RND(10))
    B = INT(RND(10))
    @ASK
    INPUT A + " + " + B, C
    IF C = A+B THEN PRINT "CORRECT":GOTO TASK
    PRINT "TRY AGAIN":GOTO ASK</div>
<p>    If the user input is correct then the program will not only PRINT "CORRECT" but also GOTO TASK. 
    If the condition is not met then the rest of the line is skipped, even if it contains          
    several instructions separated with colon.                                                     </p> 
<h2><a name="383">Operator Summary</a></h2>
<h3>Precedence</h3>
<div class="code">    REM<i> ^            	    LEVEL 1</i>
    PRINT 2 * 3^2:REM<i> 18</i>
    PRINT (2*3)^2:REM<i> 36</i>
    REM<i> / *          	    LEVEL 2</i>
    PRINT 1 + 2*3:REM<i> 7</i>
    PRINT (1+2)*3:REM<i> 9</i>
    REM<i> + -          	    LEVEL 3</i>
    PRINT 6 &lt; 10+2:REM<i> 1</i>
    PRINT (6&lt;10)+2:REM<i> 3</i>
    REM<i> &lt;> >= > &lt;= &lt; 	    LEVEL 4</i>
    PRINT 2 = 4&lt;>3:REM<i> 0</i>
    PRINT (2=4)&lt;>3:REM<i> 1</i>
    REM<i> =            	    LEVEL 5</i>
    PRINT 1 AND 3 = 1:REM<i> 0</i>
    PRINT (1 AND 3)=1:REM<i> 1</i>
    REM<i> AND          	    LEVEL 6</i>
    PRINT 1 OR 3 AND 2:REM<i> 3</i>
    PRINT (1 OR 3)AND 2:REM<i> 2</i>
    REM<i> OR           	    LEVEL 7</i>
    PRINT 1, 2 OR 4:REM<i> [1, 6]</i>
    REM<i> ,            	    LEVEL 8</i>
<hr/>    REM<i> * OTHER OPERATORS ON THE SAME PRECEDENCE LEVELS *</i>
    PRINT 18 / 3^2:REM<i> 2</i>
    PRINT 6 + 4/2:REM<i> 8</i>
    PRINT 6 - 4/2:REM<i> 4</i>
    PRINT 6 &lt; 10-2:REM<i> 1</i>
    PRINT 9 > 10-2:REM<i> 1</i>
    PRINT 8 &lt;= 10-2:REM<i> 1</i>
    PRINT 8 >= 10-2:REM<i> 1</i>
    PRINT 1 = 4>3:REM<i> 1</i>
    PRINT 3 = 3&lt;2:REM<i> 0</i>
    PRINT 1 = 4>=4:REM<i> 1</i>
    PRINT 0 = 1&lt;=1:REM<i> 0</i></div>    
<h3>Associativity</h3>
<div class="code">    REM<i> * ALL OPERATORS LEFT-ASSOCIATIVE (INCLUDING POWER, UNLIKE IN MATHS) *</i>
    PRINT 2^3^2:REM<i> 64</i>
    PRINT 2^(3^2):REM<i> 512</i>
    PRINT 100/20/5:REM<i> 1</i>
    PRINT 100/(20/5):REM<i> 25</i>
    PRINT 100-20-5:REM<i> 75</i>
    PRINT 100-(20-5):REM<i> 85</i>
    PRINT 3>2>1:REM<i> 0 (FALSE) BECAUSE 3>2 GIVES 1 (TRUE), 1>1 GIVES 0 (FALSE)</i>
    PRINT 3>(2>1):REM<i> 1 (TRUE) BECAUSE 2>1 GIVES 1 (TRUE), 3>1 GIVES 1 (TRUE)</i></div>
<h3>The Unary Minus Sign</h3>
<div class="code">    REM<i> * UNARY MINUS HAS LOWER PRECEDENCE THAN POWER *</i>
    PRINT -2^2:REM<i> -4</i>
    PRINT (-2)^2:REM<i> 4</i>
    REM<i> * UNARY MINUS HAS HIGHER PRECEDENCE THAN ADD OR SUBTRACT *</i>
    PRINT -2+2:REM<i> 0</i>
    PRINT -(2+2):REM<i> -4</i></div>
<h2><a name="438">GOSUB and RETURN</a></h2>
<div class="code">    PRINT "VERSE 1"
    GOSUB CHORUS:REM<i> GO TO SUBPROGRAM AT @CHORUS BUT COME BACK WHEN IT'S DONE</i>
    PRINT "VERSE 2"
    GOSUB CHORUS:REM<i> NOTE THAT THE SAME SUBPROGRAM CAN RETURN HERE, TOO</i>
    GOTO OUTRO
    @CHORUS: PRINT "CHORUS"
    RETURN:REM<i> SUB IS OVER, GO BACK TO THE POINT AFTER GOSUB (THE RIGHT GOSUB)</i>
    @OUTRO: PRINT "OUTRO"</div>
<h2><a name="448">END and STOP</a></h2>
<div class="code">    PRINT "VERSE 1"
    GOSUB CHORUS
    PRINT "VERSE 2"
    GOSUB CHORUS
    PRINT "OUTRO"
    END:REM<i> PREVENTS RUNNING THE CHORUS AGAIN</i>
    @CHORUS: PRINT "CHORUS"
    RETURN
<hr/>    PRINT "STEP 1"
    STOP
    PRINT "STEP 2"
    STOP
    PRINT "STEP 3"
    REM<i> * ENTER INTERACTIVE COMMAND CONT TO CONTINUE *</i>
    REM<i> * ENTER INTERACTIVE COMMAND RUN TO START OVER *</i></div>
<h2><a name="465">FOR and NEXT</a></h2>
<p>Wanna do something 10 times?</p>
<div class="code">    FOR I=1 TO 10:PRINT "THIS OLD MAN, HE PLAYED " + I:NEXT</div>
<p>What more can FOR loops do?</p>
<div class="code">    FOR I=0 TO 9
    	A$ = " "
    	REM<i> * ANOTHER LOOP INSIDE THE LOOP         *</i>
    	REM<i> * THE END OF THE LOOP IS AN EXPRESSION *</i>
    	REM<i> * THE COUNTER J WILL STEP DOWN         *</i>
    	FOR J=9 TO 9-I STEP -1
    		A$ = A$ + J
    	NEXT
    	PRINT A$
    NEXT I
    REM<i> * THIS SYNTAX OF NEXT MAKES SURE THAT IT ENDS THE CORRECT LOOP: IF  *</i>
    REM<i> * THE PROGRAM FLOW ACCIDENTALLY HITS IT WHEN THERE IS NO LOOP FOR I *</i>
    REM<i> * THEN INSTEAD OF CONTINUING THE WRONG FLOW, IT IMMEDIATELY STOPS   *</i>
<hr/>    REM<i> * BREAKING THE LOOP EARLY *</i>
    INPUT CUT
    FOR I=1 TO 10
    	PRINT I
    	IF I = CUT THEN I = 30:NEXT:GOTO OUT
    	PRINT "POTATO"
    NEXT
    @OUT
    PRINT "STEAK"
<hr/>    FOR I=10 TO 45 STEP 10:PRINT I:NEXT
    PRINT "LOOP EXITED WITH " + I
    REM<i> I NEVER GETS EXACTLY 45, LAST CYCLE STARTS WITH I=40, EXITS WITH I=50</i></div>
<h2><a name="496">DATA and READ</a></h2>
<div class="code">    REM<i> * READ ASSIGNS THE NEXT VALUE FROM THE DATA LINE TO ITS ARGUMENT *</i>
    FOR I=1 TO 5:READ A:PRINT A:NEXT
    DATA 2,3,5,7,11</div>    
<h3><a name="d1">Evaluation order</a></h3>
<div class="code">    READ A:READ B:A=9:READ C
    PRINT A,B,C
    DATA RND(8)
    DATA A, A + 1</div>
<p>On READ A, first data line is evaluated, a random number gets generated. </p>
<p>On READ B, second data line evaluates (both elements of it at once.) Now variable A holds  
the randomized number, so B gets the same value as A. </p><p>Then A=9 assignment happens.         
C gets the already evaluated value, which is the random number plus 1 (the new value of A, 
9, does not affect C's.)                               </p>                                    

<h2><a name="513">RESTORE</a></h2>
<p>Restore to the beginning</p>
<div class="code">    GOSUB POEM
    PRINT "*"
    GOSUB POEM
    END
    @POEM
    RESTORE
    REM<i> * RESTORE INSTRUCTION MAKES SURE THE POEM STARTS WITH THE FIRST LINE *</i>
    REM<i> *      NO MATTER HOW MANY TIMES THE PROGRAM RUNS THE SUBPROGRAM      *</i>
    FOR LINE=1 TO 5:READ L$:PRINT L$:NEXT LINE
    RETURN
    DATA "THERE WAS AN OLD MAN WITH A BEARD,"
    DATA "WHO SAID, 'IT IS JUST AS I FEARED!"
    DATA "TWO OWLS AND A HEN,", "FOUR LARKS AND A WREN,"
    DATA "HAVE ALL BUILT THEIR NESTS IN MY BEARD!'"</div>    
<p><a name="rtl">Restore to a label</a></p>
<div class="code">    RESTORE WEEKEND
    FOR I=1 TO 14
    	READ DAY$:PRINT DAY$ + " " + I
    	IF DAY$ = "SUN" THEN RESTORE
    NEXT
    END
    DATA "MON", "TUE", "WED", "THU", "FRI"
    @WEEKEND: DATA "SAT", "SUN"</div>
<h2><a name="540">DIM</a></h2>
<div class="code">    REM<i> * BUBBLE SORT *</i>
    DIM ARRAY(10)
    INPUT ARRAY(0)
    FOR I=1 TO 9
    	READ ARRAY(I)
    NEXT
    FOR K=8 TO 0 STEP -1
    	FOR I=0 TO K
    		IF ARRAY(I)>ARRAY(I + 1) THEN NEXT I:GOTO OUT
    		SWAP = ARRAY(I)
    		ARRAY(I) = ARRAY(I + 1)
    		ARRAY(I + 1) = SWAP
    	NEXT I
    	@OUT
    	PRINT ARRAY(I)
    NEXT K
    PRINT ARRAY(0)
    END
    DATA 1, 2, 3, 5, 9, 8, 7, 4, 6</div>
<h2><a name="561">POKE</a></h2>
<p>Store a byte in the memory by address.</p>
<div class="code">    POKE 5000,6
    REM<i> 5000 IS THE ADDRESS, 6 IS THE BYTE</i>
    PRINT PEEK(5000)</div>
<h2><a name="567">CLR</a></h2>
<p>Clear all variables and arrays. Built-in variables restored.</p>
<div class="code">    PI = 3.0
    PRINT PI
    CLR
    PRINT PI</div>
<p>Bytes in memory survive a CLR.</p>
<div class="code">    POKE 5000,6
    CLR
    PRINT PEEK(5000):REM<i> 6</i></div>
<h2><a name="579">DEF</a></h2>
<div class="code">    LOG2 = LOG(2)
    DEF LOG2(X) = LOG(X)/LOG2
    X=10
    PRINT LOG2(32)
    PRINT X</div>    
<p>CLR will erase user-defined functions, too.</p>
<div class="code">    DEF TWICE(N) = 2*N
    DIM ARRAY(10)
    CLR
    DIM TWICE(10):REM<i> NOT AN OVERDEFINITION</i>
    DEF ARRAY(N) = 2*N:REM<i> NOT AN OVERDEFINITION</i></div>
<h2><a name="593">ON</a></h2>
<div class="code">    INPUT "CHOOSE FROM MENU 1-3", CHOICE
    ON CHOICE GOTO M1, M2, M3
    @M1: PRINT "YOU CHOSE #1"
    END
    @M2: PRINT "YOU CHOSE #2"
    END
    @M3: PRINT "YOU CHOSE #3"
    END
<hr/>    @START
    INPUT "CHOOSE FROM MENU 1-3", CHOICE
    ON CHOICE GOSUB M1, M2, M3
    GOTO START
    @M1: PRINT "YOU CHOSE #1"
    RETURN
    @M2: PRINT "YOU CHOSE #2"
    RETURN
    @M3: PRINT "YOU CHOSE #3"
    RETURN</div>
<h2><a name="613">Multidimensional Arrays</a></h2>
<div class="code">    DIM MANCALA(6,2)
    MANCALA(4,1) = 0
    MANCALA(5,1) = MANCALA(4,1)+1</div>
<h2><a name="618">Non-Unary Functions</a></h2>
<h3>Nullary</h3>
<div class="code">    D12 = RND(12)+1
    PRINT D12
    REM<i> * GIVES 12 JUST AS OFTEN AS 7 *</i>
    CLR
    D12 = RND(6)+RND(6)+2
    REM<i> * RANDOM WITH THE DISTRIBUTION OF ROLLING 2 REGULAR DICE *</i>
    PRINT D12
    PRINT D12
    PRINT D12
    REM<i> * EVALUATION HAPPENS ONCE, SAME NUMBER IS PRINTED 3 TIMES *</i>
    CLR
    DEF D12()=RND(6)+RND(6)+2
    REM<i> * NULLARY FUNCTION *</i>
    PRINT D12()
    PRINT D12()
    PRINT D12()
    REM<i> * ROLLS THREE TIMES *</i></div>
<h3>Higher Arities</h3>
<div class="code">    DEF MAX(A,B)=(A>=B)*A+(A&lt;B)*B
    PRINT MAX(-3,MAX(5/2,8/4))</div>
<h2><a name="642">Abbreviations</a></h2>
<div class="code">    REM<i> * T. IS SHORT FOR THEN *</i>
    REM<i> * G. IS SHORT FOR GOTO *</i>
    REM<i> * N. IS SHORT FOR NEXT *</i>
    REM<i> * R. STANDS FOR RETURN *</i>
    '<i>OH, AND YOU CAN USE APOSTROPHE INSTEAD OF REM INSTRUCTION</i>
    INPUT "ENTER REQUESTED INDIAN COUNT", N '<i>NO NEED FOR A COLON</i>
    IF N>10 T.G.HANDLER
    S$=""
    FOR I=1 TO N
    	GOSUB INDIAN
    	S$="S"
    N.
    END
    @HANDLER: 
    	PRINT "TOO MANY INDIANS"
    	STOP
    @INDIAN: 
    	PRINT I+" LITTLE INDIAN"+S$
    	R.</div>
<h2><a name="663">Run Time Errors</a></h2>
<h3><a name="novalue">NO VALUE</a></h3>
<div class="code">    CLR
    PRINT NOSUCH
<hr/>    DATA XX+1, YY+1
    XX=0
    READ Y:REM<i> TRIES TO EVALUATE THE WHOLE DATA LINE, INCLUDING YY+1</i>
    YY=0:REM<i> TOO LATE</i>
<hr/>    DIM A$(8)
    A$(1) = ""
    PRINT A$(1):REM<i> FINE</i>
    PRINT A$(2):REM<i> NO VALUE</i>
    REM<i> * MAKE SURE YOU INITIALIZE ALL MEMBERS OF YOUR ARRAY BEFORE USE *</i>
<hr/>    A=8
    PRINT A:REM<i> FINE</i>
    A=
    REM<i> * VARIABLE A IS NOW UNASSIGNED *</i>
    PRINT A:REM<i> NO VALUE</i></div>
<h3>INVALID REFERENCE</h3>
<div class="code">    CLR
    INPUT UNARRAY(0)
<hr/>    SIN(0) = 0</div>
<h3>NEXT WITHOUT FOR</h3>
<div class="code">    FOR I=0 TO 10
    	IF I=5 THEN I=10:NEXT
    	REM<i> *     WHAT HAPPENS WHEN I=5? IF CONDITION MET, I GETS 10    *</i>
    	REM<i> *    NEXT ABOVE WILL TERMINATE THE LOOP AND CONTINUE HERE   *</i>
    	REM<i> * THE OTHER NEXT WILL ALSO RUN BUT THERE IS NO LOOP ANYMORE *</i>
    NEXT</div>    
<h3>RETURN WITHOUT GOSUB</h3>
<div class="code">    GOSUB SUB
    REM<i> * NOTE: AFTER RETURNING FROM THE SUB, PROGRAM CONTINUES HERE *</i>
    @SUB
    RETURN</div>
<h3>LOOP MISMATCH</h3>
<div class="code">    FOR I=1 TO 10:NEXT J</div>
<h3>OVERDEFINITION</h3>
<div class="code">    DIM SIN(10)
<hr/>    DEF FN(PM)=-PM
    DIM FN(10)
<hr/>    DIM ARR(10)
    DEF ARR(X)=-X</div>
<h3>OUT OF DATA</h3>
<div class="code">    REM<i> * OOPS, OFF BY ONE *</i>
    FOR I=0 TO 10:READ X:NEXT
    DATA 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</div>
<h3>LABEL DOES NOT EXIST</h3>
<div class="code">    GOTO PI
<hr/>    GOSUB PI
<hr/>    RESTORE PI</div>
<h3>NO DATA AT LABEL</h3>
<div class="code">    RESTORE LABEL
    @LABEL:PRINT "NOT A DATA INSTRUCTION"
    DATA 1</div>
<h3>BRANCH</h3>
<div class="code">    A = 100
    ON A GOTO L1, L2
    @L1
    @L2</div>
<h3>DIVIDE BY ZERO</h3>
<div class="code">    A = 1/0</div>
<h2><a name="738">Contrasting C64</a></h2>
<p>This programming language is inspired by C64 BASIC V2.</p>
Inspiration means that:<ul>
<li>Those who know C64 BASIC V2 will find it easy to learn.</li>
<li>Program flow and instructions are on the same abstraction level.</li>
</ul>
But not:<ul>
<li>Easy portability of programs between both.</li>
<li>Intent to converge them.</li>
<li>That they would be comparable in performance.</li>
</ul>
<h3>List of Intentional Differences</h3>
Dollar or percent sign at the end of names is a convention
<div class="code">    A% = "HELLO"
    A$ = 3
    REM<i> * BOTH WORK *</i></div>
The full name of the variable identifies
<div class="code">    VAR1 = 1:VAR2 = 2:REM<i> TWO DISTINCT VARIABLES HERE</i>
    PRINT VAR1,VAR2</div>
Use spaces to separate names from operators
<div class="code">    SCORE = 30
    SC = 1:E = 2
    PRINT SCORE:REM<i> 30</i>
    PRINT SC OR E:REM<i> 3</i></div>
<a href="#d1">DATA evaluation</a>
&bull; <a href="#642">Abbreviations</a>
&bull; Concept of labels
&bull; <a href="#rtl">RESTORE to a label</a>
&bull; <a href="#novalue">Unassigned variables</a>
&bull; Built-in variables
&bull; Distinguishing interactive commands from programming instructions























<h1>Game Programming Tutorial</h1>
<p>OK, that was boring. Fortunately this imaginary little machine has all the
necessary stuff for action game programming, too. You'll need controls,
timing and graphics. Let's go.</p>
<h2><a name="2001">WAIT and GET</a></h2>
<p>WAIT instruction halts execution of your program until one of the 
events occur:</p><ul>
<li>A button on the keyboard is hit. Note that in the emulator, you need
to focus on the Graphic Screen to get keystroke events.</li>
<li>Clock ticks. It constantly ticks every 20 milliseconds. So a WAIT 
instruction returns after 20 milliseconds max, depending on what moment
it started to run. E.g. just after another WAIT, it's exactly 20 ms.</li>
</ul>
<p>GET instruction assigns the key code of the key hit on the keyboard to the 
variable in argument. Consecutive GETs will process the key hits in 
chronological order.</p>
<p>Key codes:</p><ul>
<li>If no button has been hit (since all of the events had been processed by GET 
instructions) then GET assigns the value 0.</li>
<li>Buttons for alphanumeric characters and space have key codes 32 through 
127, according to ASCII.</li>
<li>27 means Escape button, 13 is Enter.</li>
<li>Shift and Ctrl buttons 16 and 17, respectively.</li>
<li>When Shift or Ctrl is still pressed while another key is hit, .5 or .25 is 
added to its key code, respectively.</li>
</ul>
<div class="code">    SECS=10:AN=10
    PRINT "ENTER "+AN+" ANIMALS IN "+SECS+" SECONDS"
    T$="":TICKS=0
    @LOOP:GET KEY
    IF KEY=27 THEN PRINT "GIVEN UP?":END
    IF KEY=0 THEN WAIT:TICKS=TICKS+1
    IF KEY>31 AND 128>KEY THEN T$=T$+CHR$(KEY)
    IF KEY=13 THEN AN=AN-1:PRINT T$+" ACCEPTED, "+AN+" STILL TO GO!":T$=""
    IF AN=0 THEN PRINT "YOU WIN.":END
    IF TICKS>50 THEN SECS=SECS-1:PRINT SECS+" SECONDS LEFT...":TICKS=0
    IF SECS=0 THEN PRINT "YOU LOSE.":END
    GOTO LOOP</div>
<h3>Motivation</h3>
<p>Busy loops without any WAIT in them will render your browser totally
irresponsive.</p>
<div class="code">    REM<i> * BROWSER KILLING CODE *</i>
    @BUSYLOOP:GOTO BUSYLOOP<hr/>    @FRIENDLYLOOP:WAIT:GOTO FRIENDLYLOOP
    '<i>CPU IS COLDER AND PROGRAM STOPPABLE: HIT ESC ON THE INTERACTIVE SCREEN</i></div>
<h3>Clearing Past Events</h3>
<div class="code">    FOR I=1 TO 500:WAIT:N. '<i>WAIT 10 SECS: USER MAY HIT KEYS MEANWHILE</i>
    PRINT "HIT A BUTTON NOW:"
    @GETLOOP:WAIT:GET A '<i>PROGRAMMER MAY THINK THIS WAIT AND GET BELONG TOGETHER</i>
    IF A=0 T.G.LOOP
    PRINT A
    REM<i> * KEY CODE OF FIRST HIT SINCE PROGRAM START GETS PRINTED *</i>
    REM<i> *    NOT NECESSARILY ONE HIT WHILE WAITING AT GETLOOP    *</i>
<hr/>    FOR I=1 TO 500:WAIT:N.
    @ZAP:GET A:IF A&lt>0 THEN GOTO ZAP '<i>CLEAR ALL PAST EVENTS</i>
    PRINT "HIT A BUTTON NOW:"
    @LOOP:WAIT:GET A '<i>NOW THIS WILL GET A YOUNG EVENT</i>
    IF A=0 T.G.LOOP
    PRINT A
<hr/>    FOR I=1 TO 500:WAIT:N.
    CLR '<i>CLEAR ALL PAST EVENTS (AND ALL VARIABLES ETC.)</i>
    PRINT "HIT A BUTTON NOW:"
    @LOOP:WAIT:GET A
    IF A=0 T.G.LOOP
    PRINT A</div>
<h3>Abbreviation</h3>
<div class="code">    FOR I=1 TO 50:W.:N. '<i>WAIT >980 BUT &lt=1000 MILLISECONDS</i></div>
<h2><a name="2002">TIME and TIME$</a></h2>
<div class="code">    PRINT TIME() '<i>MILLISECONDS SINCE EPOCH, 1 JAN 1970</i>
    PRINT TIME$(0) '<i>THE EPOCH IN A HUMAN READABLE FORMAT</i>
    PRINT TIME$(TIME()) '<i>CURRENT DATE AND TIME</i>
    FOR I=0 TO 50:W.:N. '<i>WAIT (MORE THAN) A SECOND...</i>
    PRINT TIME$() '<i>CURRENT DATE AND TIME, SHORTER WAY</i>
    REM<i> * LAST TWO LINES SHOULD DIFFER IN 1 SECOND *</i></div>
<p>Timing for less than 20 milliseconds:</p>
<div class="code">    UNTIL=TIME()+10 '<i>10 MILLISECONDS FROM NOW</i>
    @BUSY:IF TIME()&lt;UNTIL T.G.BUSY</div>
</body>
</html>
